---
title: "LULC"
author: "Cameryn Brock"
date: "5/31/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tidyverse)
library(janitor) 
library(here)
library(raster)
library(rasterVis)
library(foreign) # reading dbfs
library(ggmap) # base layers
library(sf) # shapefiles
```


# LULC for 2019
```{r}
lulc_2019_raster <- raster(here("data", "lulc-2019", "LULC_2019tif.tif"))

lulc_2019_pts <- rasterToPoints(lulc_2019_raster)

lulc_2019_df <- data.frame(lulc_2019_pts) %>% 
  rename("lon" = "x",
         "lat" = "y",
         "value" = "LULC_2019tif")

dbf_2019 <- read.dbf(here("data", "lulc-2019", "LULC_2019tif.tif.vat.dbf"),
                as.is = FALSE) %>% 
  clean_names()

lulc_2019 <- inner_join(lulc_2019_df, dbf_2019, 
                   by = "value") %>% 
  filter(class %in% c("Palm Plantation", "Pineapple", "Coffee", 
                      "Melina_Teak", "Primary Forest", "Secondary Forest"))
```

```{r}
lulc_2019_plot <- ggplot() + 
  geom_raster(data = lulc_2019, 
              aes(x = lat,
                  y = lon,
                  fill = class)) +
  theme_minimal() + 
  labs(x = NULL,
       y = NULL,
       title = "LULC for 2019",
       fill = NULL)
```

# Projected LULC for 2030
```{r}
lulc_2030_raster <- raster(here("data", "lulc-2030", "2030_FINAL1.tif"))

lulc_2030_pts <- rasterToPoints(lulc_2030_raster)

lulc_2030_df <- data.frame(lulc_2030_pts) %>% 
  rename("lon" = "x",
         "lat" = "y",
         "value" = "X2030_FINAL1")

dbf_2030 <- read.dbf(here("data", "lulc-2030", "2030_FINAL1.tif.vat.dbf"),
                as.is = FALSE) %>% 
  clean_names()

lulc_2030 <- inner_join(lulc_2030_df, dbf_2030, 
                   by = "value") %>% 
    filter(class %in% c("Palm Plantation", "Pineapple", "Coffee", 
                      "Melina_Teak", "Primary Forest", "Secondary Forest"))
```

## Cantons

```{r}

```



